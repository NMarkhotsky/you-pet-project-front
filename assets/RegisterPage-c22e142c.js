import{u,d as h,e as p,j as e,k as w,Q as a,f}from"./index-9f296d2a.js";import{c as x,a as r,f as g,F as t,A as P,b,d as j,e as F}from"./index.esm-328af380.js";import{u as v,F as T}from"./formik.esm-db8fed06.js";const q=x().shape({name:r().matches(/^[A-Za-z\s]+$/,"Name must contain only letters").min(2,"Name must be min 2 characters long").max(16,"Name must be max 16 characters long").required("This field is required"),email:r().email("Enter a valid email").required("This field is required"),password:r().min(6,"Password must be min 6 characters long").max(16,"Password must be max 16 characters long").matches(/[0-9]/,"Password requires at least one number").matches(/[a-z]/,"Password requires at least one lowercase letter").matches(/[A-Z]/,"Password requires at least one uppercase letter").required("This field is required"),confirmPassword:r().oneOf([g("password"),null],'Entered value does not match "password" field value').required("This field is required")}),O=()=>{const n=u(),l=h(),{error:i}=p(),s=v({initialValues:{name:"",email:"",password:"",confirmPassword:""},validationSchema:q,validateOnChange:!0,validateOnBlur:!0,onSubmit:async({name:m,email:d,password:c})=>{const o=await s.validateForm();Object.keys(o).length&&a.error("Please enter valid values in all the fields",{position:a.POSITION.TOP_CENTER}),Object.keys(o).length===0&&(await n(f({name:m,email:d,password:c})),i?a.error(i,{position:a.POSITION.TOP_CENTER}):l("/user"))}});return e.jsxs(T.Provider,{value:s,children:[e.jsxs("form",{onSubmit:s.handleSubmit,children:[e.jsx(t,{name:"name",type:"text",label:"Name",placeholder:"Name",...s.getFieldProps("name")}),e.jsx(t,{name:"email",type:"email",label:"Email",placeholder:"Email",...s.getFieldProps("email")}),e.jsx(t,{name:"password",type:"password",label:"Password",placeholder:"Password",successMessage:"Password is secure",...s.getFieldProps("password")}),e.jsx(t,{name:"confirmPassword",type:"password",label:"Confirm password",placeholder:"Confirm password",...s.getFieldProps("confirmPassword")}),e.jsx(P,{btnText:"Registration"}),e.jsxs(b,{children:["Already have an account? ",e.jsx(j,{to:"/login",children:"Login"})]})]}),e.jsx(w,{})]})};function k(){return e.jsx(F,{title:"Registration",children:e.jsx(O,{})})}export{k as default};
