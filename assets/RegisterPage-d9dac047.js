import{i as P,k as o,o as F,l as j,m as b,u as v,r as m,j as e,t as r,T as S,p as q}from"./index-682bfae7.js";import{F as i,a as h,A as k,b as y,c as T,d as _,e as A}from"./AuthGoogleBtn-8b8188f6.js";import{u as B,F as C}from"./formik.esm-e5c45352.js";import{B as E}from"./BackgroundWrapper-6f5b8fa0.js";const N=P().shape({name:o().matches(/^[A-Za-z\s]+$/,"Name must contain only letters").min(2,"Name must be min 2 characters long").max(16,"Name must be max 16 characters long").required("This field is required"),email:o().email("Enter a valid email").required("This field is required"),password:o().min(6,"Password must be min 6 characters long").max(16,"Password must be max 16 characters long").matches(/[0-9]/,"Password requires at least one number").matches(/[a-z]/,"Password requires at least one lowercase letter").matches(/[A-Z]/,"Password requires at least one uppercase letter").required("This field is required"),confirmPassword:o().oneOf([F("password"),null],'Entered value does not match "password" field value').required("This field is required")}),L=()=>{const p=j(),d=b(),{isLoggedIn:c}=v(),[a,w]=m.useState(!1),[t,x]=m.useState(!1),u=()=>{x(!t)},g=async n=>{n.preventDefault(),w(!0);const l=await s.validateForm();Object.keys(l).length===0&&s.handleSubmit()};m.useEffect(()=>{c&&d("/user")},[c,d]);const s=B({initialValues:{name:"",email:"",password:"",confirmPassword:""},validationSchema:N,onSubmit:async({name:n,email:l,password:f})=>{p(q({name:n,email:l,password:f}))}});return e.jsx(C.Provider,{value:s,children:e.jsxs("form",{onSubmit:g,noValidate:!0,children:[e.jsx(i,{name:"name",type:"text",label:"Name",placeholder:r("other_name"),isFormSubmitted:a,...s.getFieldProps("name")}),e.jsx(i,{name:"email",type:"email",label:"Email",placeholder:r("other_email"),isFormSubmitted:a,...s.getFieldProps("email")}),e.jsx(h,{isPasswordShown:t,isFormSubmitted:a,onClick:u,children:e.jsx(i,{name:"password",type:t?"text":"password",label:"Password",placeholder:r("other_password"),successMessage:"Password is secure",isFormSubmitted:a,...s.getFieldProps("password")})}),e.jsx(h,{isPasswordShown:t,isFormSubmitted:a,onClick:u,children:e.jsx(i,{name:"confirmPassword",type:t?"text":"password",label:"Confirm password",placeholder:r("other_confirmPassword"),successMessage:"Password confirmed",isFormSubmitted:a,...s.getFieldProps("confirmPassword")})}),e.jsx(k,{btnText:r("header_nav_signupBtn")}),e.jsx(y,{}),e.jsx(T,{children:e.jsxs(S,{i18nKey:"auth_linkToLogin",children:["Already have an account? ",e.jsx(_,{to:"/login",children:"Login"})]})})]})})};function M(){return e.jsxs(e.Fragment,{children:[e.jsx(E,{}),e.jsx(A,{title:r("header_nav_signupBtn"),children:e.jsx(L,{})})]})}export{M as default};
