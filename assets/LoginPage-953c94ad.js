import{f as w,g as m,h as F,i as f,u as j,r as i,j as e,t as a,T as b,l as P}from"./index-34c06f90.js";import{F as d,a as S,A as v,b as k,c as T,d as q,e as y}from"./AuthGoogleBtn-6c48be01.js";import{u as A,F as E}from"./formik.esm-4aee9896.js";import{B as L}from"./BackgroundWrapper-6f841df1.js";const _=w().shape({email:m().email("Enter a valid email").required("This field is required"),password:m().min(6,"Password must be min 6 characters long").max(16,"Password must be max 16 characters long").matches(/[0-9]/,"Password requires at least one number").matches(/[a-z]/,"Password requires at least one lowercase letter").matches(/[A-Z]/,"Password requires at least one uppercase letter").required("This field is required")}),B=()=>{const c=F(),n=f(),{isLoggedIn:l}=j(),[r,u]=i.useState(!1),[t,h]=i.useState(!1),p=()=>{h(!t)},g=async o=>{o.preventDefault(),u(!0);const x=await s.validateForm();Object.keys(x).length===0&&s.handleSubmit()};i.useEffect(()=>{l&&n("/user")},[l,n]);const s=A({initialValues:{email:"",password:""},validationSchema:_,onSubmit:async o=>{c(P(o))}});return e.jsx(E.Provider,{value:s,children:e.jsxs("form",{onSubmit:g,noValidate:!0,children:[e.jsx(d,{name:"email",type:"email",label:"Email",placeholder:a("other_email"),isFormSubmitted:r,...s.getFieldProps("email")}),e.jsx(S,{isPasswordShown:t,isFormSubmitted:r,onClick:p,children:e.jsx(d,{name:"password",type:t?"text":"password",label:"Password",placeholder:a("other_password"),isFormSubmitted:r,...s.getFieldProps("password")})}),e.jsx(v,{btnText:a("other_login")}),e.jsx(k,{}),e.jsx(T,{children:e.jsxs(b,{i18nKey:"auth_linkToRegister",children:["Do not have an account? ",e.jsx(q,{to:"/register",children:"Register"})]})})]})})};function V(){return e.jsxs(e.Fragment,{children:[e.jsx(L,{}),e.jsx(y,{title:a("other_login"),children:e.jsx(B,{})})]})}export{V as default};
