import{u,j as e,r as h}from"./index-0737ae35.js";import{u as p,a as w,F as a,A as x,b as f,c as g,k as P,Q as r,d as b}from"./ReactToastify-13ff4bcd.js";import{c as j,a as t,b as F,u as v,F as T}from"./index.esm-93251fa4.js";const q=j().shape({name:t().matches(/^[A-Za-z\s]+$/,"Name must contain only letters").min(2,"Name must be min 2 characters long").max(16,"Name must be max 16 characters long").required("This field is required"),email:t().email("Enter a valid email").required("This field is required"),password:t().min(6,"Password must be min 6 characters long").max(16,"Password must be max 16 characters long").matches(/[0-9]/,"Password requires at least one number").matches(/[a-z]/,"Password requires at least one lowercase letter").matches(/[A-Z]/,"Password requires at least one uppercase letter").required("This field is required"),confirmPassword:t().oneOf([F("password"),null],'Entered value does not match "password" field value').required("This field is required")}),O=()=>{const n=p(),l=u(),{error:i}=w(),s=v({initialValues:{name:"",email:"",password:"",confirmPassword:""},validationSchema:q,validateOnChange:!0,validateOnBlur:!0,onSubmit:async({name:m,email:d,password:c})=>{const o=await s.validateForm();Object.keys(o).length&&r.error("Please enter valid values in all the fields",{position:r.POSITION.TOP_CENTER}),Object.keys(o).length===0&&(await n(h({name:m,email:d,password:c})),i?r.error(i,{position:r.POSITION.TOP_CENTER}):l("/user"))}});return e.jsxs(T.Provider,{value:s,children:[e.jsxs("form",{onSubmit:s.handleSubmit,children:[e.jsx(a,{name:"name",type:"text",label:"Name",placeholder:"Name",...s.getFieldProps("name")}),e.jsx(a,{name:"email",type:"email",label:"Email",placeholder:"Email",...s.getFieldProps("email")}),e.jsx(a,{name:"password",type:"password",label:"Password",placeholder:"Password",successMessage:"Password is secure",...s.getFieldProps("password")}),e.jsx(a,{name:"confirmPassword",type:"password",label:"Confirm password",placeholder:"Confirm password",...s.getFieldProps("confirmPassword")}),e.jsx(x,{btnText:"Registration"}),e.jsxs(f,{children:["Already have an account? ",e.jsx(g,{to:"/login",children:"Login"})]})]}),e.jsx(P,{})]})};function k(){return e.jsx(b,{title:"Registration",children:e.jsx(O,{})})}export{k as default};
