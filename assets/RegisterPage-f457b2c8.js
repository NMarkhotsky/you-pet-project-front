import{d as f,e as t,h as P,u as F,f as j,g as b,r as m,j as e,i as S}from"./index-4e916435.js";import{F as o,a as u,A as q,b as v,c as y,d as k,e as A}from"./AuthGoogleBtn-75f70826.js";import{u as C,F as E}from"./formik.esm-808b0306.js";import{B as T}from"./BackgroundWrapper-e7f750f6.js";const N=f().shape({name:t().matches(/^[A-Za-z\s]+$/,"Name must contain only letters").min(2,"Name must be min 2 characters long").max(16,"Name must be max 16 characters long").required("This field is required"),email:t().email("Enter a valid email").required("This field is required"),password:t().min(6,"Password must be min 6 characters long").max(16,"Password must be max 16 characters long").matches(/[0-9]/,"Password requires at least one number").matches(/[a-z]/,"Password requires at least one lowercase letter").matches(/[A-Z]/,"Password requires at least one uppercase letter").required("This field is required"),confirmPassword:t().oneOf([P("password"),null],'Entered value does not match "password" field value').required("This field is required")}),R=()=>{const h=F(),l=j(),{isLoggedIn:d}=b(),[a,p]=m.useState(!1),[r,w]=m.useState(!1),c=()=>{w(!r)},x=async i=>{i.preventDefault(),p(!0);const n=await s.validateForm();Object.keys(n).length===0&&s.handleSubmit()};m.useEffect(()=>{d&&l("/user")},[d,l]);const s=C({initialValues:{name:"",email:"",password:"",confirmPassword:""},validationSchema:N,onSubmit:async({name:i,email:n,password:g})=>{h(S({name:i,email:n,password:g}))}});return e.jsx(E.Provider,{value:s,children:e.jsxs("form",{onSubmit:x,noValidate:!0,children:[e.jsx(o,{name:"name",type:"text",label:"Name",placeholder:"Name",isFormSubmitted:a,...s.getFieldProps("name")}),e.jsx(o,{name:"email",type:"email",label:"Email",placeholder:"Email",isFormSubmitted:a,...s.getFieldProps("email")}),e.jsx(u,{isPasswordShown:r,isFormSubmitted:a,onClick:c,children:e.jsx(o,{name:"password",type:r?"text":"password",label:"Password",placeholder:"Password",successMessage:"Password is secure",isFormSubmitted:a,...s.getFieldProps("password")})}),e.jsx(u,{isPasswordShown:r,isFormSubmitted:a,onClick:c,children:e.jsx(o,{name:"confirmPassword",type:r?"text":"password",label:"Confirm password",placeholder:"Confirm password",successMessage:"Password confirmed",isFormSubmitted:a,...s.getFieldProps("confirmPassword")})}),e.jsx(q,{btnText:"Registration"}),e.jsx(v,{}),e.jsxs(y,{children:["Already have an account? ",e.jsx(k,{to:"/login",children:"Login"})]})]})})};function D(){return e.jsxs(e.Fragment,{children:[e.jsx(T,{}),e.jsx(A,{title:"Registration",children:e.jsx(R,{})})]})}export{D as default};
